<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur Nitrox ü§ø</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(to bottom, #001a33 0%, #003d5c 50%, #005580 100%);
            min-height: 100vh;
            height: 100vh;
            color: white;
            overflow: hidden;
            position: relative;
            width: 100vw;
            max-width: 100%;
        }

        /* Bulles anim√©es */
        .bubble {
            position: absolute;
            bottom: -100px;
            background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.3));
            border-radius: 50%;
            opacity: 0.6;
            animation: rise linear infinite;
        }

        @keyframes rise {
            to {
                bottom: 110vh;
                transform: translateX(100px);
            }
        }

        .container {
            max-width: 100%;
            margin: 0;
            padding: 5px;
            position: relative;
            z-index: 10;
            overflow-x: hidden;
            box-sizing: border-box;
        }

        h1 {
            text-align: center;
            font-size: 1.2em;
            margin: 5px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 5px;
        }

        .tab-btn {
            flex: 1;
            padding: 8px 4px;
            border: none;
            background: rgba(0, 50, 80, 0.5);
            color: rgba(255, 255, 255, 0.6);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.8em;
            font-weight: bold;
        }

        .tab-btn.active {
            background: #66d9ff;
            color: #001a33;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background: rgba(0, 50, 80, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            padding: 8px;
            margin-bottom: 5px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .ppo2-selector {
            display: flex;
            gap: 4px;
            margin-bottom: 8px;
        }

        .ppo2-btn {
            flex: 1;
            padding: 6px 3px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            background: rgba(0, 50, 80, 0.5);
            color: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.7em;
        }

        .ppo2-btn.active {
            background: #66d9ff;
            color: #001a33;
            font-weight: bold;
            border-color: #66d9ff;
        }

        .input-group {
            margin-bottom: 8px;
        }

        label {
            display: block;
            margin-bottom: 3px;
            font-size: 0.8em;
            color: #b3e6ff;
        }

        input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #66d9ff;
            cursor: pointer;
            box-shadow: 0 0 8px rgba(102, 217, 255, 0.8);
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #66d9ff;
            cursor: pointer;
            box-shadow: 0 0 8px rgba(102, 217, 255, 0.8);
        }

        .value-display {
            font-size: 1.2em;
            font-weight: bold;
            color: #66d9ff;
            text-align: center;
            margin: 5px 0;
            text-shadow: 0 0 10px rgba(102, 217, 255, 0.5);
        }

        .result {
            background: rgba(102, 217, 255, 0.2);
            border-left: 4px solid #66d9ff;
            padding: 8px;
            border-radius: 6px;
            margin-top: 8px;
        }

        .result h3 {
            color: #66d9ff;
            margin-bottom: 4px;
            font-size: 0.95em;
        }

        .result p {
            font-size: 0.85em;
            margin: 3px 0;
        }

        .summary {
            background: linear-gradient(135deg, rgba(102, 217, 255, 0.3), rgba(100, 255, 100, 0.3));
            border: 2px solid #66d9ff;
            padding: 8px;
            border-radius: 8px;
            margin-bottom: 6px;
            text-align: center;
        }

        .summary-big {
            font-size: 1.2em;
            font-weight: bold;
            color: #66d9ff;
            margin: 5px 0;
            text-shadow: 0 0 10px rgba(102, 217, 255, 0.8);
        }

        .summary-text {
            font-size: 0.8em;
            line-height: 1.3;
            opacity: 0.9;
        }

        canvas {
            width: 100%;
            height: 200px;
            background: rgba(0, 30, 50, 0.5);
            border-radius: 10px;
        }

        .chart-legend {
            margin-top: 3px;
            text-align: center;
            opacity: 0.7;
            font-size: 0.7em;
            line-height: 1.3;
        }

        .warning {
            background: rgba(255, 100, 100, 0.2);
            border-left: 4px solid #ff6464;
        }

        .safe {
            background: rgba(100, 255, 100, 0.2);
            border-left: 4px solid #64ff64;
        }

        .danger-zone {
            background: rgba(255, 50, 50, 0.3);
            border: 2px solid #ff3232;
            padding: 6px;
            border-radius: 6px;
            margin-top: 6px;
            text-align: center;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .danger-zone-text {
            font-size: 0.95em;
            font-weight: bold;
            color: #ff6464;
        }
    </style>
</head>
<body>
    <!-- Bulles -->
    <script>
        for (let i = 0; i < 10; i++) {
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            const size = Math.random() * 50 + 15;
            bubble.style.width = size + 'px';
            bubble.style.height = size + 'px';
            bubble.style.left = Math.random() * 100 + '%';
            bubble.style.animationDuration = (Math.random() * 8 + 8) + 's';
            bubble.style.animationDelay = Math.random() * 4 + 's';
            document.body.appendChild(bubble);
        }
    </script>

    <div class="container">
        <h1>ü§ø Calculateur Nitrox</h1>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab(1)">üìä Profondeur Max</button>
            <button class="tab-btn" onclick="switchTab(2)">üéØ Nitrox Optimal</button>
        </div>

        <!-- Tab 1: Nitrox ‚Üí Profondeur -->
        <div class="tab-content active" id="tab1">
            <div class="card">
                <div class="ppo2-selector">
                    <button class="ppo2-btn" onclick="setPPO2Mode1(1.3)">1.3<br>Prudent</button>
                    <button class="ppo2-btn active" onclick="setPPO2Mode1(1.4)">1.4<br>Standard</button>
                    <button class="ppo2-btn" onclick="setPPO2Mode1(1.6)">1.6<br>Max</button>
                </div>

                <div class="input-group">
                    <label for="nitrox">% Oxyg√®ne</label>
                    <input type="range" id="nitrox" min="21" max="40" value="32" step="1">
                    <div class="value-display">Nitrox <span id="nitrox-value">32</span>%</div>
                </div>

                <div class="summary">
                    <div class="summary-big"><span id="summary1-depth">33.7</span>m MAX</div>
                    <div class="summary-text" id="summary1-text">Avec Nitrox 32%, tu peux plonger jusqu'√† 33.7 m√®tres</div>
                </div>

                <div class="result" id="result-mode1">
                    <p style="font-size: 0.85em; opacity: 0.8;">PPO‚ÇÇ = <span id="ppo2-mode1">1.4</span> bar</p>
                    <p style="font-size: 0.75em; opacity: 0.7; margin-top: 8px; font-family: monospace;" id="calc-details1">
                        (1.4 / 0.32) √ó 10 - 10 = 33.7m
                    </p>
                </div>

                <div id="toxicity-warning1"></div>
            </div>
        </div>

        <!-- Tab 2: Profondeur ‚Üí Nitrox -->
        <div class="tab-content" id="tab2">
            <div class="card">
                <div class="ppo2-selector">
                    <button class="ppo2-btn" onclick="setPPO2Mode2(1.3)">1.3<br>Prudent</button>
                    <button class="ppo2-btn active" onclick="setPPO2Mode2(1.4)">1.4<br>Standard</button>
                    <button class="ppo2-btn" onclick="setPPO2Mode2(1.6)">1.6<br>Max</button>
                </div>

                <div class="input-group">
                    <label for="depth">Profondeur planifi√©e</label>
                    <input type="range" id="depth" min="10" max="60" value="35" step="1">
                    <div class="value-display"><span id="depth-value">35</span> m√®tres</div>
                </div>

                <div class="summary">
                    <div class="summary-big">Nitrox <span id="summary2-nitrox">30.0</span>% MAX</div>
                    <div class="summary-text" id="summary2-text">Pour plonger √† 35m, utilise maximum Nitrox 30%</div>
                </div>

                <div class="result" id="result-mode2">
                    <p style="font-size: 0.85em; opacity: 0.8;">PPO‚ÇÇ = <span id="ppo2-mode2">1.4</span> bar</p>
                    <p style="font-size: 0.75em; opacity: 0.7; margin-top: 8px; font-family: monospace;" id="calc-details2">
                        1.4 / ((35 + 10) / 10) √ó 100 = 30.0%
                    </p>
                </div>

                <div id="nitrox-recommendation"></div>
                
                <div id="toxicity-warning2"></div>
            </div>
        </div>

        <!-- Graphique (toujours visible) -->
        <div class="card">
            <canvas id="chart"></canvas>
            <div class="chart-legend">
                <div><span style="color: #66d9ff;">‚îÅ‚îÅ</span> 1.4 Standard</div>
                <div><span style="color: #64ff64;">‚îÅ‚îÅ</span> 1.3 Prudent <span style="margin: 0 10px;"></span> <span style="color: #ff9999;">‚îÅ‚îÅ</span> 1.6 Max</div>
            </div>
        </div>
    </div>

    <script>
        let ppo2Mode1 = 1.4;
        let ppo2Mode2 = 1.4;

        const nitroxSlider = document.getElementById('nitrox');
        const nitroxValue = document.getElementById('nitrox-value');
        const ppo2Mode1Display = document.getElementById('ppo2-mode1');
        const summary1Depth = document.getElementById('summary1-depth');
        const summary1Text = document.getElementById('summary1-text');

        const depthSlider = document.getElementById('depth');
        const depthValue = document.getElementById('depth-value');
        const ppo2Mode2Display = document.getElementById('ppo2-mode2');
        const summary2Nitrox = document.getElementById('summary2-nitrox');
        const summary2Text = document.getElementById('summary2-text');
        const nitroxRecommendation = document.getElementById('nitrox-recommendation');

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach((btn, i) => {
                btn.classList.toggle('active', i + 1 === tab);
            });
            document.querySelectorAll('.tab-content').forEach((content, i) => {
                content.classList.toggle('active', i + 1 === tab);
            });
        }

        function calculateMaxDepth(nitrox, ppo2) {
            const o2Fraction = nitrox / 100;
            return (ppo2 / o2Fraction) * 10 - 10;
        }

        function calculateMaxNitrox(depth, ppo2) {
            const absolutePressure = (depth + 10) / 10;
            return (ppo2 / absolutePressure) * 100;
        }

        function updateMode1() {
            const nitrox = parseInt(nitroxSlider.value);
            nitroxValue.textContent = nitrox;
            
            const maxDepth = calculateMaxDepth(nitrox, ppo2Mode1);
            summary1Depth.textContent = maxDepth.toFixed(1);
            ppo2Mode1Display.textContent = ppo2Mode1;

            // Calcul d√©taill√©
            const o2Decimal = (nitrox / 100).toFixed(2);
            document.getElementById('calc-details1').textContent = 
                `(${ppo2Mode1} / ${o2Decimal}) √ó 10 - 10 = ${maxDepth.toFixed(1)}m`;

            summary1Text.textContent = `Avec Nitrox ${nitrox}%, tu peux plonger jusqu'√† ${maxDepth.toFixed(1)} m√®tres (PPO‚ÇÇ ${ppo2Mode1} bar)`;

            const resultDiv = document.getElementById('result-mode1');
            if (maxDepth < 20) {
                resultDiv.className = 'result warning';
            } else {
                resultDiv.className = 'result safe';
            }

            // Zone de toxicit√©
            const toxicityDiv = document.getElementById('toxicity-warning1');
            if (maxDepth < 15) {
                toxicityDiv.innerHTML = '<div class="danger-zone"><div class="danger-zone-text">üíÄ ZONE TOXIQUE üíÄ</div><div style="font-size: 0.85em; margin-top: 5px;">Profondeur max trop faible ! Ce m√©lange est DANGEREUX</div></div>';
            } else {
                toxicityDiv.innerHTML = '';
            }

            drawChart();
        }

        function updateMode2() {
            const depth = parseInt(depthSlider.value);
            depthValue.textContent = depth;
            
            const maxNitrox = calculateMaxNitrox(depth, ppo2Mode2);
            summary2Nitrox.textContent = maxNitrox.toFixed(1);
            ppo2Mode2Display.textContent = ppo2Mode2;

            // Calcul d√©taill√©
            const absolutePressure = ((depth + 10) / 10).toFixed(1);
            document.getElementById('calc-details2').textContent = 
                `${ppo2Mode2} / (${depth} + 10) / 10 √ó 100 = ${maxNitrox.toFixed(1)}%`;

            summary2Text.textContent = `Pour plonger √† ${depth}m, utilise maximum Nitrox ${maxNitrox.toFixed(1)}% (PPO‚ÇÇ ${ppo2Mode2} bar)`;

            let recommendation = '';
            if (maxNitrox < 21) {
                recommendation = '<div class="result warning" style="margin-top: 10px; font-size: 0.85em;"><strong>‚ö†Ô∏è Attention</strong><br>M√™me l\'air (21%) d√©passe la PPO‚ÇÇ. Augmente PPO‚ÇÇ ou r√©duis profondeur.</div>';
            } else if (maxNitrox >= 21 && maxNitrox < 26) {
                recommendation = '<div class="result" style="margin-top: 10px; font-size: 0.85em;"><strong>üí® Utilise Air (21%)</strong><br>Le Nitrox n\'apporte pas d\'avantage ici.</div>';
            } else if (maxNitrox >= 26 && maxNitrox <= 40) {
                const recommended = Math.floor(maxNitrox / 2) * 2;
                recommendation = `<div class="result safe" style="margin-top: 10px; font-size: 0.85em;"><strong>‚úÖ Nitrox ${recommended}% recommand√©</strong></div>`;
            }
            nitroxRecommendation.innerHTML = recommendation;

            // Zone de toxicit√© - calculer PPO2 r√©elle si on utilise plus que le max
            const toxicityDiv = document.getElementById('toxicity-warning2');
            
            // Simuler ce qui se passe si on utilise Nitrox 40% √† cette profondeur
            const ppo2At40 = (40 / 100) * ((depth + 10) / 10);
            
            if (depth > 50 && maxNitrox < 25) {
                toxicityDiv.innerHTML = '<div class="danger-zone"><div class="danger-zone-text">üíÄ PROFONDEUR DANGEREUSE üíÄ</div><div style="font-size: 0.85em; margin-top: 5px;">√Ä cette profondeur, utilise de l\'air (21%) !</div></div>';
            } else if (ppo2At40 > 1.8) {
                toxicityDiv.innerHTML = `<div class="danger-zone"><div class="danger-zone-text">üíÄ DANGER NITROX RICHE üíÄ</div><div style="font-size: 0.85em; margin-top: 5px;">Nitrox 40% √† ${depth}m = PPO‚ÇÇ ${ppo2At40.toFixed(1)} ‚Üí TOXIQUE !</div></div>`;
            } else {
                toxicityDiv.innerHTML = '';
            }

            drawChart();
        }

        function setPPO2Mode1(value) {
            ppo2Mode1 = value;
            document.querySelectorAll('#tab1 .ppo2-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            updateMode1();
        }

        function setPPO2Mode2(value) {
            ppo2Mode2 = value;
            document.querySelectorAll('#tab2 .ppo2-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            updateMode2();
        }

        function drawChart() {
            const canvas = document.getElementById('chart');
            const ctx = canvas.getContext('2d');
            
            const dpr = window.devicePixelRatio || 1;
            const rect = canvas.getBoundingClientRect();
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            ctx.scale(dpr, dpr);

            const width = rect.width;
            const height = rect.height;

            ctx.fillStyle = 'rgba(0, 30, 50, 0.8)';
            ctx.fillRect(0, 0, width, height);

            const margin = { top: 20, right: 20, bottom: 35, left: 40 };
            const chartWidth = width - margin.left - margin.right;
            const chartHeight = height - margin.top - margin.bottom;

            // ZONE VERTE SAFE (en dessous de PPO2 1.3)
            ctx.fillStyle = 'rgba(100, 255, 100, 0.15)';
            ctx.beginPath();
            ctx.moveTo(margin.left, height - margin.bottom);
            
            for (let nitrox = 21; nitrox <= 40; nitrox += 0.5) {
                const depth = calculateMaxDepth(nitrox, 1.3);
                const x = margin.left + ((nitrox - 20) / 20) * chartWidth;
                const y = height - margin.bottom - Math.min(depth, 60) / 60 * chartHeight;
                ctx.lineTo(x, y);
            }
            
            ctx.lineTo(width - margin.right, height - margin.bottom);
            ctx.closePath();
            ctx.fill();

            // ZONE ORANGE WARNING (entre PPO2 1.3 et 1.4)
            ctx.fillStyle = 'rgba(255, 200, 100, 0.15)';
            ctx.beginPath();
            
            for (let nitrox = 21; nitrox <= 40; nitrox += 0.5) {
                const depth = calculateMaxDepth(nitrox, 1.3);
                const x = margin.left + ((nitrox - 20) / 20) * chartWidth;
                const y = height - margin.bottom - Math.min(depth, 60) / 60 * chartHeight;
                if (nitrox === 21) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            
            for (let nitrox = 40; nitrox >= 21; nitrox -= 0.5) {
                const depth = calculateMaxDepth(nitrox, 1.4);
                const x = margin.left + ((nitrox - 20) / 20) * chartWidth;
                const y = height - margin.bottom - Math.min(depth, 60) / 60 * chartHeight;
                ctx.lineTo(x, y);
            }
            
            ctx.closePath();
            ctx.fill();

            // ZONE JAUNE/ORANGE (entre PPO2 1.4 et 1.6)
            ctx.fillStyle = 'rgba(255, 150, 0, 0.15)';
            ctx.beginPath();
            
            for (let nitrox = 21; nitrox <= 40; nitrox += 0.5) {
                const depth = calculateMaxDepth(nitrox, 1.4);
                const x = margin.left + ((nitrox - 20) / 20) * chartWidth;
                const y = height - margin.bottom - Math.min(depth, 60) / 60 * chartHeight;
                if (nitrox === 21) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            
            for (let nitrox = 40; nitrox >= 21; nitrox -= 0.5) {
                const depth = calculateMaxDepth(nitrox, 1.6);
                const x = margin.left + ((nitrox - 20) / 20) * chartWidth;
                const y = height - margin.bottom - Math.min(depth, 60) / 60 * chartHeight;
                ctx.lineTo(x, y);
            }
            
            ctx.closePath();
            ctx.fill();

            // ZONE ROUGE DANGER (au-dessus de PPO2 1.6)
            ctx.fillStyle = 'rgba(255, 0, 0, 0.2)';
            ctx.beginPath();
            ctx.moveTo(margin.left, margin.top);
            
            for (let nitrox = 21; nitrox <= 40; nitrox += 0.5) {
                const depth = calculateMaxDepth(nitrox, 1.6);
                const x = margin.left + ((nitrox - 20) / 20) * chartWidth;
                const y = height - margin.bottom - Math.min(depth, 60) / 60 * chartHeight;
                ctx.lineTo(x, y);
            }
            
            ctx.lineTo(width - margin.right, margin.top);
            ctx.closePath();
            ctx.fill();

            // Texte zones
            ctx.fillStyle = 'rgba(100, 255, 100, 0.8)';
            ctx.font = 'bold 9px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('‚úì SAFE', margin.left + 5, height - margin.bottom - 10);

            ctx.fillStyle = 'rgba(255, 50, 50, 0.8)';
            ctx.textAlign = 'center';
            ctx.fillText('üíÄ TOXIQUE', width / 2, margin.top + 10);

            // Axes
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(margin.left, margin.top);
            ctx.lineTo(margin.left, height - margin.bottom);
            ctx.lineTo(width - margin.right, height - margin.bottom);
            ctx.stroke();

            // Labels
            ctx.fillStyle = '#b3e6ff';
            ctx.font = '9px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('% O‚ÇÇ', width / 2, height - 3);
            
            ctx.save();
            ctx.translate(10, height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Prof. (m)', 0, 0);
            ctx.restore();

            // Graduations X
            ctx.font = '8px Arial';
            for (let nitrox = 20; nitrox <= 40; nitrox += 5) {
                const x = margin.left + ((nitrox - 20) / 20) * chartWidth;
                ctx.fillText(nitrox, x, height - margin.bottom + 12);
            }

            // Graduations Y
            ctx.textAlign = 'right';
            for (let depth = 0; depth <= 60; depth += 15) {
                const y = height - margin.bottom - (depth / 60) * chartHeight;
                ctx.fillText(depth, margin.left - 6, y + 3);
            }

            // Courbes
            const curves = [
                { ppo2: 1.3, color: '#64ff64', width: 2 },
                { ppo2: 1.4, color: '#66d9ff', width: 2.5 },
                { ppo2: 1.6, color: '#ff9999', width: 2 }
            ];

            curves.forEach(curve => {
                ctx.strokeStyle = curve.color;
                ctx.lineWidth = curve.width;
                ctx.beginPath();
                
                for (let nitrox = 21; nitrox <= 40; nitrox += 0.5) {
                    const depth = calculateMaxDepth(nitrox, curve.ppo2);
                    const x = margin.left + ((nitrox - 20) / 20) * chartWidth;
                    const y = height - margin.bottom - Math.min(depth, 60) / 60 * chartHeight;
                    
                    if (nitrox === 21) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.stroke();
            });

            // Points actuels
            const currentNitrox = parseInt(nitroxSlider.value);
            const currentDepth = calculateMaxDepth(currentNitrox, ppo2Mode1);
            const x1 = margin.left + ((currentNitrox - 20) / 20) * chartWidth;
            const y1 = height - margin.bottom - Math.min(currentDepth, 60) / 60 * chartHeight;
            
            ctx.fillStyle = '#66d9ff';
            ctx.beginPath();
            ctx.arc(x1, y1, 5, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 1.5;
            ctx.stroke();

            const targetDepth = parseInt(depthSlider.value);
            const optimalNitrox = calculateMaxNitrox(targetDepth, ppo2Mode2);
            const x2 = margin.left + ((optimalNitrox - 20) / 20) * chartWidth;
            const y2 = height - margin.bottom - (targetDepth / 60) * chartHeight;
            
            ctx.fillStyle = '#ffc864';
            ctx.beginPath();
            ctx.arc(x2, y2, 5, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 1.5;
            ctx.stroke();
        }

        nitroxSlider.addEventListener('input', updateMode1);
        depthSlider.addEventListener('input', updateMode2);
        window.addEventListener('resize', drawChart);

        updateMode1();
        updateMode2();
    </script>
</body>
</html>